###############################################################################
#********************** Makefile for CPP09 project  **************************#
###############################################################################

#******************************  COMPILER  ***********************************#

NAME			= PmergeMe
CC 				= c++
CFLAGS 			= -Wall -Werror -Wextra -Wshadow -Wno-shadow -std=c++98

#******************************  SOURCE  *************************************#

INCS = ./include
PATHS = main.cpp \
		AMateria.cpp \
		Character.cpp \
		Cure.cpp \
		Ice.cpp \
		MateriaSource.cpp
SRCS = $(addprefix $(SRCDIRS)/, $(PATHS))
SRCDIRS = srcs

#******************************  OBJ  ****************************************#

OBJDIRS = objs
OBJS = $(addprefix $(OBJDIRS)/, $(patsubst %.cpp, %.o, $(PATHS)))

#******************************  COLORS  *************************************#


GREEN			=	\033[0;32m
END				=	\033[0m

#******************************  RULES  **************************************#

all: $(NAME)

$(NAME): 	$(OBJDIRS) $(OBJS)
			@$(CC) $(CFLAGS) -o $(NAME) $(OBJS) -I$(INCS)
			@echo "${GREEN}> ${NAME} was successfuly compiled ðŸŽ‰${END}"

$(OBJDIRS):
	@mkdir -p $(OBJDIRS)

$(OBJDIRS)/%.o: $(SRCDIRS)/%.cpp
			@$(CC) $(CFLAGS) -I$(INCS) -c $< -o $@

clean:
			@rm -rf $(OBJDIRS)
			@echo "${GREEN}> Objects deleted${END}"

fclean : clean
			@rm -f ${NAME}
			@echo "${GREEN}> Cleaning of ${NAME} has been done${END}"

re: fclean all
